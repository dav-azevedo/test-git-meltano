{
  "plugin_type": "extractors",
  "name": "tap-facebook",
  "namespace": "tap_facebook",
  "variant": "singer-io",
  "label": "Facebook Ads",
  "docs": "https://hub.meltano.com/extractors/tap-facebook--singer-io",
  "repo": "https://github.com/singer-io/tap-facebook",
  "pip_url": "git+https://github.com/singer-io/tap-facebook.git",
  "description": "Advertising Platform",
  "logo_url": "https://hub.meltano.com/assets/logos/extractors/facebook.png",
  "capabilities": [
    "properties",
    "discover",
    "state"
  ],
  "settings_group_validation": [
    [
      "account_id",
      "access_token",
      "start_date"
    ]
  ],
  "settings": [
    {
      "name": "account_id",
      "label": "Account ID",
      "description": "Your Facebook Ads Account ID\n\n#### How to get\n\nTo get your Account ID:\n\n1. Visit the Facebook Ads Manager: <https://www.facebook.com/adsmanager/>\n2. Log in if you haven't already.\n3. Make sure the correct account is selected in the top left corner.\n\n![Screenshot of account selector](/assets/images/tap-facebook/account-selector.png)\n\n4. You will see the Account ID displayed inside the selector. You can also find it in the URL, after `?act=` and ahead of any additional parameters starting with `&`:\n\nExamples:\n- URL: `https://www.facebook.com/adsmanager/manage/campaigns?act=593385444078559`\n\n  Account ID: `593385444078559`\n- URL: `https://business.facebook.com/adsmanager/manage/campaigns?act=791728544625001&business_id=172253903856261`\n\n  Account ID: `791728544625001`\n",
      "placeholder": "Ex. 123456789012345"
    },
    {
      "name": "access_token",
      "kind": "oauth",
      "label": "Access Token",
      "description": "User Token generated by Facebook OAuth handshake\n\n#### How to get\n\n##### Create App\n\nFirst, you will need to create a Facebook App through the Developer Portal.\n\n1. Go to <https://developers.facebook.com/>.\n2. Log into Facebook if you haven't already. Make sure that your account is an Admin of the Ads Account you will be pulling data from.\n3. Convert your Facebook account to a Developer Account if you haven't done so already. This will not affect your personal Facebook profile, but will give you access to Facebook's developer tools.\n4. Click \"My Apps\" in the top right, and choose \"Create App\".\n5. In the modal that appears, enter a \"Display Name\" of your choosing. Since you will only use this app to generate an Access Token for your own use, the actual display name does not matter too much.\n6. Enter your email address under \"Contact Email\" if it is not yet populated automatically.\n7. Click \"Create App ID\".\n\n![Screenshot of \"Create A New App ID\" modal](/assets/images/tap-facebook/create-new-app-id.png)\n\n8. Under \"Add a Product\", find \"Marketing API\", and click \"Set Up\".\n\n##### Generate Access Token\n\nNow that your app has been created and the Marketing API product has been enabled, we can generate an access token.\n\n1. In the sidebar on the left, expand \"Marketing API\" if it isn't expanded already.\n2. Under \"Marketing API\", click \"Tools\".\n3. Select `ads_management`, `ads_read`, and `manage_pages` under \"Select Token Permissions\".\n4. Click \"Get Token\".\n5. Copy the token that appears in the field.\n\n![Screenshot of \"Get Access Token\" section](/assets/images/tap-facebook/get-access-token.png)\n\nThis is the Access Token you will provide to Meltano.\n\n##### Connect the App\n\nAfter generating the access token, your app will need to be connected to the ad account within Facebook Business Manager. Navigate to Business Manager > Accounts > Apps > Connected Assets > Add Assets to add the access token.\n\n##### Token Expiration\n\nTokens generated using this method are only valid for 60 days by default.\nWhen the token expires, Meltano will no longer be able to automatically update your Facebook Ads data, and you will need to generate a new token and update the extractor configuration.\n\nTo find out exactly when this token will expire, you can use the Access Token Debugger:\n\n1. Go to <https://developers.facebook.com/tools/debug/accesstoken/>.\n2. Paste the token into the field at the top.\n3. Click \"Debug\" on the right.\n4. Look for the value under \"Expires\".\n\n![Screenshot of the Access Token Debugger](/assets/images/tap-facebook/access-token-debugger.png)\n\nTo prevent any interruption of your data pipeline, we recommend that you generate and configure a new token before the currently configured one expires:\n\n1. Go to <https://developers.facebook.com/>\n2. Log into Facebook if you haven't already.\n3. Click \"My Apps\" in the top right, and select the app you created earlier.\n4. Follow the steps under [\"Generate Access Token\"](#generate-access-token) above.\n",
      "oauth": {
        "provider": "facebook"
      },
      "placeholder": "Ex. *****************"
    },
    {
      "name": "start_date",
      "kind": "date_iso8601",
      "label": "Start Date",
      "description": "Determines how much historical data will be extracted. Please be aware that the larger the time period and amount of data, the longer the initial extraction can be expected to take."
    },
    {
      "name": "end_date",
      "kind": "date_iso8601",
      "label": "End Date",
      "description": "Date up to when historical data will be extracted."
    },
    {
      "name": "insights_buffer_days",
      "kind": "integer",
      "value": 0,
      "label": "Insights Buffer Days",
      "description": "How many Days before the Start Date to fetch Ads Insights for"
    },
    {
      "name": "include_deleted",
      "label": "Include Deleted Objects",
      "description": "Determines if it should include deleted objects or not."
    }
  ]
}